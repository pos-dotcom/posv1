{%extends '::frontendMantenimientos.html.twig'%}

{% block javascripts %}
    <script type="text/javascript">
        $('.edit_custom').find('input').unwrap();
        $('.edit_custom').find('check').unwrap();

        function docena() {

            var txtFirstNumberValue = document.getElementById('mantenimientosbundle_productos_existencia').value;
            //var result = parseInt(txtFirstNumberValue);
            var docenas = parseFloat(txtFirstNumberValue).toFixed(2) / 12;

            if (!isNaN(docenas)) {
                document.getElementById('mantenimientosbundle_productos_docena').value = parseFloat(docenas).toFixed(2);
            }



        }

        function ganancia() {
            var result;
            var txtFirstNumberValue = document.getElementById('mantenimientosbundle_productos_precioVenta').value;
            var txtSecondNumberValue = document.getElementById('mantenimientosbundle_productos_precioCosto').value;
            b_docena = document.getElementById('mantenimientosbundle_productos_bPrecioDocena');
            var result = parseFloat(txtFirstNumberValue).toFixed(2) - parseFloat(txtSecondNumberValue).toFixed(2);
            if (!isNaN(result)) {
                if (b_docena.checked) {
                    result = parseFloat(txtFirstNumberValue).toFixed(2) - (parseFloat(txtSecondNumberValue * 12).toFixed(2));
                }
                else
                {
                    result = parseFloat(txtFirstNumberValue).toFixed(2) - parseFloat(txtSecondNumberValue).toFixed(2);

                }

                document.getElementById('mantenimientosbundle_productos_ganancia').value = parseFloat(result).toFixed(2);

            }

        }
    </script>
{% endblock %}
{% block body %}

    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <h1>
                Mantenimientos/Productos

            </h1>
            <!--<ol class="breadcrumb">
                <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
                <li><a href="#">Tables</a></li>
                <li class="active">Data tables</li>
            </ol>-->
        </section>

        <!-- Main content -->
        <section class="content">
            <div class="row">
                <div class="col-xs-12">
                    <div class="box">
                        <div class="box-header">
                            <!-- <h3 class="box-title">Data Table With Full Features</h3>-->

                        </div>
                        <!-- /.box-header -->
                        <div class="box-body">

                            <div class="box box-info">
                                <div class="box-header with-border">
                                    <h3 class="box-title">Nuevo Producto</h3>
                                </div>
                                <!-- /.box-header -->
                                <!-- form start -->
                                <form class="form-horizontal">
                                    <div class="box-body">
                                        {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}
                                        <span>Codigo:</span>{{ form_widget(form.codigoArticulo) }}

                                        <br>
                                        <span>Categoria:</span>
                                        {{ form_errors(form.categorias) }}
                                        {{ form_widget(form.categorias) }}
                                        <br>
                                        <span>Nombre:</span>
                                        {{ form_errors(form.nombre) }}
                                        {{ form_widget(form.nombre) }}
                                        <br>

                                        <span>Precio venta:</span>
                                        {{ form_errors(form.precioVenta) }}
                                        {{ form_widget(form.precioVenta) }}
                                        <br>
                                        <span>Precio Docena:</span>
                                        {{ form_errors(form.bPrecioDocena) }}
                                        {{ form_widget(form.bPrecioDocena) }}
                                        <br>
                                        <span>Costo:</span>
                                        {{ form_errors(form.precioCosto) }}
                                        {{ form_widget(form.precioCosto,{ 'attr': {'onKeyUp'  :'ganancia();'} }) }}

                                        <br>
                                        <span>Ganancia:</span>
                                        {{ form_errors(form.ganancia) }}
                                        {{ form_widget(form.ganancia) }}
                                        <br>
                                        <span>Unidades:</span>
                                        {{ form_errors(form.existencia) }}
                                        {{ form_widget(form.existencia,{ 'attr': {'onKeyUp'  :'docena();'} }) }}
                                        <br>
                                        <span>Docena:</span>
                                        {{ form_errors(form.docena) }}
                                        {{ form_widget(form.docena) }}

                                        <br>
                                        <center>{{ form_widget(form.save) }}</center>
                                            {{ form_end(form) }}
                                    </div>
                                    <!-- /.box-body -->

                                    <!-- /.box-footer -->
                                </form>
                            </div>

                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->
                </div>
                <!-- /.col -->
            </div>
            <!-- /.row -->
        </section>
        <!-- /.content -->
    </div>
    <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">

            </div>
        </div>
    </div>
    <footer class="main-footer">

    </footer>
    <div class="control-sidebar-bg"></div>

{% endblock body%}


